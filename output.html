<!DOCTYPE html>
<html>
<head>
  <title>Instant HTML Viewer</title>
  <style>
    body { font-family: sans-serif; margin: 0; padding: 2em; }
    textarea { width: 100%; height: 200px; }
    iframe { width: 100%; height: 400px; border: 1px solid #ccc; }
    #urlBox { width: 100%; margin-top: 1em; }
  </style>
</head>
<body>
  <h1>ðŸ”— Instant HTML Page Creator</h1>

  <p>Paste your HTML below and click "Generate Link".</p>
  <textarea id="htmlInput" placeholder="Paste your HTML code here"></textarea><br>
  <button onclick="generateLink()">Generate Link</button>

  <input id="urlBox" readonly placeholder="Your URL will appear here">

  <h2>Live Preview:</h2>
  <iframe id="preview"></iframe>

  <script>
    function generateLink() {
      const html = document.getElementById('htmlInput').value;
      const encoded = encodeURIComponent(btoa(html));
      const link = location.origin + location.pathname + '#' + encoded;
      document.getElementById('urlBox').value = link;
      loadPreview(encoded);
    }

    function loadPreview(encoded) {
      const decoded = atob(decodeURIComponent(encoded));
      const iframe = document.getElementById('preview');
      const blob = new Blob([decoded], { type: 'text/html' });
      iframe.src = URL.createObjectURL(blob);
    }

    // Load preview from URL if available
    if (location.hash.length > 1) {
      try {
        const encoded = location.hash.substring(1);
        loadPreview(encoded);
        document.getElementById('htmlInput').value = atob(decodeURIComponent(encoded));
      } catch (e) {
        console.warn("Invalid hash content.");
      }
    }
  </script>
</body>
</html>